<ion-content class="ion-padding">
  <div class="login-container">

    <!-- Formulario de Login -->
    <ion-card class="login-card">
      <ion-card-header>
        <ion-card-title>
          Iniciar Sesión
        </ion-card-title>
      </ion-card-header>
      
      <ion-card-content>
        <ion-list>
          <!-- Campo de Correo -->
          <ion-item class="input-item">
            <div class="input-wrapper email-wrapper">
              <label class="top-label" for="emailPrefix">Correo Electrónico</label>
              <div class="input-container">
                <input 
                  id="emailPrefix"
                  class="native-input email-input"
                  [(ngModel)]="emailPrefix"
                  name="emailPrefix"
                  type="text" 
                  placeholder="nombre"
                  autocomplete="email"
                  autocapitalize="none"
                  (input)="onEmailPrefixChange($event)"
                  (blur)="onInputBlur('correo')"
                  (focus)="onInputFocus('correo')"
                  required>
                <span class="email-domain">@retofitness.com</span>
              </div>
            </div>
          </ion-item>
          <div class="error-message" *ngIf="validationErrors.correo">
            {{ validationErrors.correo }}
          </div>

          <!-- Campo de Contraseña -->
          <ion-item class="input-item">
            <div class="input-wrapper password-wrapper">
              <label class="top-label" for="password">Contraseña</label>
              <div class="input-container">
                <input 
                  id="password"
                  class="native-input password-input"
                  [(ngModel)]="credenciales.password"
                  name="password"
                  [type]="showPassword ? 'text' : 'password'" 
                  placeholder="Tu contraseña"
                  autocomplete="current-password"
                  (input)="onInputChange('password', $event)"
                  (blur)="onInputBlur('password')"
                  (focus)="onInputFocus('password')"
                  required>
                <button 
                  type="button"
                  class="password-toggle-btn"
                  (click)="togglePasswordVisibility()"
                  aria-label="Mostrar/ocultar contraseña">
                  <span class="emoji-icon">{{ showPassword ? 'Ocultar' : 'Mostrar' }}</span>
                </button>
              </div>
            </div>
          </ion-item>
          <div class="error-message" *ngIf="validationErrors.password">
            {{ validationErrors.password }}
          </div>
        </ion-list>

        <!-- Acceso Rápido -->
        <div class="quick-access">
          <ion-button 
            class="quick-access-button" 
            expand="full"
            fill="clear"
            (click)="accesoRapidoEntrenador()">
            ⚡ Acceso Rápido Entrenador
          </ion-button>
        </div>

        <!-- Botones de Acción -->
        <div class="action-buttons">
          <!-- Botón de Iniciar Sesión -->
          <ion-button 
            class="login-button" 
            expand="full"
            (click)="onLogin()" 
            [disabled]="isSubmitting">
            <span *ngIf="!isSubmitting">Iniciar Sesión</span>
            <span *ngIf="isSubmitting">Verificando...</span>
          </ion-button>

          <!-- Separador -->
          <div class="separator">
            <span>¿No tienes cuenta?</span>
          </div>

          <!-- Botón de Comenzar mi Reto -->
          <ion-button 
            class="register-button" 
            expand="full"
            fill="outline"
            (click)="goToRegister()">
            Comenzar mi Reto
          </ion-button>
        </div>
      </ion-card-content>
    </ion-card>

  </div>
</ion-content>
