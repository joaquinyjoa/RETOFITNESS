<ion-content class="ion-padding login-content" [fullscreen]="true" [scrollY]="false">
  <!-- Spinner de carga -->
  <div *ngIf="mostrarSpinner" class="spinner-overlay-transparent">
    <app-spinner></app-spinner>
  </div>

  <!-- Formas decorativas de fondo -->
  <div class="background-decoration">
    <div class="shape shape-1"></div>
    <div class="shape shape-2"></div>
    <div class="shape shape-3"></div>
  </div>

  <div class="login-container">

    <!-- Header del Login -->
    <div class="login-header">
      <h1 class="welcome-title">Bienvenido de vuelta</h1>
      <p class="welcome-subtitle">Ingresá para continuar tu entrenamiento</p>
    </div>

    <!-- Formulario de Login -->
    <div class="login-form">
      <ion-list>
        <!-- Campo de Correo -->
        <div class="form-group">
          <label class="input-label" for="email">
            <ion-icon name="mail-outline" class="label-icon"></ion-icon>
            Correo Electrónico
          </label>
          <div class="input-container" [class.has-error]="validationErrors.correo">
            <input 
              id="email"
              class="custom-input"
              [(ngModel)]="credenciales.correo"
              name="correo"
              type="email" 
              placeholder="tu@email.com"
              autocomplete="email"
              autocapitalize="none"
              (input)="onInputChange('correo', $event)"
              (blur)="onInputBlur('correo')"
              (focus)="onInputFocus('correo')"
              required>
          </div>
          <div class="error-message" *ngIf="validationErrors.correo">
            <ion-icon name="alert-circle-outline"></ion-icon>
            {{ validationErrors.correo }}
          </div>
        </div>

        <!-- Campo de Contraseña -->
        <div class="form-group">
          <label class="input-label" for="password">
            <ion-icon name="lock-closed-outline" class="label-icon"></ion-icon>
            Contraseña
          </label>
          <div class="input-container" [class.has-error]="validationErrors.password">
            <input 
              id="password"
              class="custom-input"
              [(ngModel)]="credenciales.password"
              name="password"
              [type]="mostrarPassword ? 'text' : 'password'" 
              placeholder="••••••••"
              autocomplete="current-password"
              (input)="onInputChange('password', $event)"
              (blur)="onInputBlur('password')"
              (focus)="onInputFocus('password')"
              required>
            <button 
              type="button"
              class="password-toggle"
              (click)="togglePasswordVisibility()"
              aria-label="Mostrar/ocultar contraseña">
              <ion-icon [name]="mostrarPassword ? 'eye-off-outline' : 'eye-outline'"></ion-icon>
            </button>
          </div>
          <div class="error-message" *ngIf="validationErrors.password">
            <ion-icon name="alert-circle-outline"></ion-icon>
            {{ validationErrors.password }}
          </div>
        </div>
      </ion-list>

      <!-- Botón de Iniciar Sesión -->
      <ion-button 
        class="login-button" 
        expand="block"
        (click)="onLogin()" 
        [disabled]="enviando">
        <ion-icon *ngIf="!enviando" name="log-in-outline" slot="start"></ion-icon>
        <ion-spinner *ngIf="enviando" name="crescent" slot="start"></ion-spinner>
        <span *ngIf="!enviando">Iniciar Sesión</span>
        <span *ngIf="enviando">Verificando...</span>
      </ion-button>

      <!-- Acceso Rápido -->
      <ion-button 
        class="quick-access-btn" 
        expand="block"
        fill="clear"
        (click)="accesoRapidoEntrenador()">
        <ion-icon name="flash-outline" slot="start"></ion-icon>
        Acceso Rápido Entrenador
      </ion-button>

      <!-- Separador -->
      <div class="divider">
        <span>o</span>
      </div>

      <!-- Botón de Registro -->
      <ion-button 
        class="register-button" 
        expand="block"
        fill="outline"
        (click)="goToRegister()">
        <ion-icon name="person-add-outline" slot="start"></ion-icon>
        Crear una cuenta
      </ion-button>
    </div>

  </div>
</ion-content>
